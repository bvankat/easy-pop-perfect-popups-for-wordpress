/**
 * Frontend modal styles with position and animation support
 */

.modal-builder-overlay {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	display: flex;
	z-index: 999999;
	opacity: 0;
	transition: opacity 0.3s ease;
	padding: 20px;
	box-sizing: border-box;

	// Position variants
	&[data-position="center"] {
		align-items: center;
		justify-content: center;
	}

	&[data-position="top-left"] {
		align-items: flex-start;
		justify-content: flex-start;
	}

	&[data-position="top-center"] {
		align-items: flex-start;
		justify-content: center;
	}

	&[data-position="top-right"] {
		align-items: flex-start;
		justify-content: flex-end;
	}

	&[data-position="bottom-left"] {
		align-items: flex-end;
		justify-content: flex-start;
	}

	&[data-position="bottom-center"] {
		align-items: flex-end;
		justify-content: center;
	}

	&[data-position="bottom-right"] {
		align-items: flex-end;
		justify-content: flex-end;
	}

	&.is-visible {
		opacity: 1;
	}

	&.is-closing {
		opacity: 0;
	}
}

.modal-builder-container {
	position: relative;
	background: #fff;
	border-radius: 8px;
	box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
	max-width: 600px;
	width: 100%;
	max-height: 90vh;
	overflow: auto;
	transition: transform 0.3s ease, opacity 0.3s ease;

	// Animation: Fade
	.modal-builder-overlay[data-animation="fade"] & {
		opacity: 0;
	}

	.modal-builder-overlay[data-animation="fade"].is-visible & {
		opacity: 1;
	}

	.modal-builder-overlay[data-animation="fade"].is-closing & {
		opacity: 0;
	}

	// Animation: Slide Up
	.modal-builder-overlay[data-animation="slide-up"] & {
		transform: translateY(50px);
		opacity: 0;
	}

	.modal-builder-overlay[data-animation="slide-up"].is-visible & {
		transform: translateY(0);
		opacity: 1;
	}

	.modal-builder-overlay[data-animation="slide-up"].is-closing & {
		transform: translateY(50px);
		opacity: 0;
	}

	// Animation: Slide Down
	.modal-builder-overlay[data-animation="slide-down"] & {
		transform: translateY(-50px);
		opacity: 0;
	}

	.modal-builder-overlay[data-animation="slide-down"].is-visible & {
		transform: translateY(0);
		opacity: 1;
	}

	.modal-builder-overlay[data-animation="slide-down"].is-closing & {
		transform: translateY(-50px);
		opacity: 0;
	}

	// Animation: Slide Left
	.modal-builder-overlay[data-animation="slide-left"] & {
		transform: translateX(50px);
		opacity: 0;
	}

	.modal-builder-overlay[data-animation="slide-left"].is-visible & {
		transform: translateX(0);
		opacity: 1;
	}

	.modal-builder-overlay[data-animation="slide-left"].is-closing & {
		transform: translateX(50px);
		opacity: 0;
	}

	// Animation: Slide Right
	.modal-builder-overlay[data-animation="slide-right"] & {
		transform: translateX(-50px);
		opacity: 0;
	}

	.modal-builder-overlay[data-animation="slide-right"].is-visible & {
		transform: translateX(0);
		opacity: 1;
	}

	.modal-builder-overlay[data-animation="slide-right"].is-closing & {
		transform: translateX(-50px);
		opacity: 0;
	}

	// Animation: Zoom In
	.modal-builder-overlay[data-animation="zoom-in"] & {
		transform: scale(0.8);
		opacity: 0;
	}

	.modal-builder-overlay[data-animation="zoom-in"].is-visible & {
		transform: scale(1);
		opacity: 1;
	}

	.modal-builder-overlay[data-animation="zoom-in"].is-closing & {
		transform: scale(0.8);
		opacity: 0;
	}

	// Animation: Zoom Out
	.modal-builder-overlay[data-animation="zoom-out"] & {
		transform: scale(1.2);
		opacity: 0;
	}

	.modal-builder-overlay[data-animation="zoom-out"].is-visible & {
		transform: scale(1);
		opacity: 1;
	}

	.modal-builder-overlay[data-animation="zoom-out"].is-closing & {
		transform: scale(1.2);
		opacity: 0;
	}
}

.modal-builder-close {
	position: absolute;
	top: 15px;
	right: 15px;
	width: 32px;
	height: 32px;
	border: none;
	background: rgba(0, 0, 0, 0.1);
	border-radius: 50%;
	cursor: pointer;
	display: flex;
	align-items: center;
	justify-content: center;
	transition: background-color 0.2s ease;
	z-index: 1;
	padding: 0;

	&:hover {
		background: rgba(0, 0, 0, 0.2);
	}

	&:focus {
		outline: 2px solid #007cba;
		outline-offset: 2px;
	}

	&::before,
	&::after {
		content: '';
		position: absolute;
		width: 16px;
		height: 2px;
		background-color: #333;
	}

	&::before {
		transform: rotate(45deg);
	}

	&::after {
		transform: rotate(-45deg);
	}
}

.modal-builder-content {
	padding: 40px 30px 30px;

	> * {
		max-width: 100%;
	}

	p:first-child {
		margin-top: 0;
	}

	p:last-child {
		margin-bottom: 0;
	}
}

// Device visibility
@media (min-width: 1024px) {
	.modal-builder-overlay[data-devices="tablet"],
	.modal-builder-overlay[data-devices="mobile"] {
		display: none !important;
	}
}

@media (min-width: 768px) and (max-width: 1023px) {
	.modal-builder-overlay[data-devices="desktop"],
	.modal-builder-overlay[data-devices="mobile"] {
		display: none !important;
	}
}

@media (max-width: 767px) {
	.modal-builder-overlay[data-devices="desktop"],
	.modal-builder-overlay[data-devices="tablet"] {
		display: none !important;
	}

	.modal-builder-container {
		max-width: 100%;
		border-radius: 0;
		max-height: 100vh;
	}

	.modal-builder-content {
		padding: 50px 20px 20px;
	}
}